"use strict";
var moment = require('moment');
module.exports = function() {
    return function(req, res, next) {
        var now = moment();
        var returnData = {
            resDate: now.format()
        };
        var body = res.locals.body;
        if (body.reqId) {
            returnData.reqId = body.reqId;
        }
        if (body.traceId) {
            returnData.traceId = body.traceId;
        }
        if (body.transId) {
            returnData.transId = body.transId;
        }
        if (body.version) {
            returnData.version = body.version;
        }
        if (body.from) {
            returnData.from = body.from;
        }
        if (body.to) {
            returnData.to = body.to;
        }
        if (res.locals.code) {
            returnData.code = res.locals.code;
        }
        if (res.locals.msg) {
            returnData.msg = res.locals.msg;
        }
        returnData.data = res.locals.data || {};
        res.json(returnData);
    };
};